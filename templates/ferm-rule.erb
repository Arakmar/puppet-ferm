##
## THIS FILE IS UNDER PUPPET CONTROL. DON'T EDIT IT HERE.
## <%= @description %>
##

domain (<%= @domain %>) {
    table <%= @table %> {
        chain <%= @chain %> {
<% if @host and not (@host.is_a? Array and @host.empty?) -%>
            saddr (<% if (@host.is_a? String) -%><%= @host -%><% elsif (@host.is_a? Array) -%><%= @host.join(' ') -%><% end -%>) {
<% end -%>
<% if @interface -%>
                interface <%= @interface -%> {
<% end -%>
<% if (defined? @rules) -%>
<% if (@rules.is_a? String) -%>
                    <%= @rules %>;
<% elsif (@rules.is_a? Array) -%>
<% @rules.each do |ns| -%>
                    <%= ns %>;
<% end -%>
<% end -%>
<% end -%>
<% if @interface -%>
                }
<% end -%>
<% if @host and not (@host.is_a? Array and @host.empty?) -%>
            }
<% end -%>
        }
    }
}